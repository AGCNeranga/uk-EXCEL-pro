<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="author" content="Charith Neranga - LS Publication Dept."><title>UK RACE PROCESSOR PRO | 2026 Edition</title><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"><style>:root{--primary-green:#2ecc71;--bright-yellow:#f1c40f;--soft-white:#f8f9fa;--glass-bg:rgba(255,255,255,0.1);--dark-accent:#1e272e}body{margin:0;padding:0;font-family:'Segoe UI',Roboto,sans-serif;background-color:#0b0f13;color:var(--soft-white);min-height:100vh;display:flex;flex-direction:column;user-select:none}#bg-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(rgba(11,15,19,0.85),rgba(11,15,19,0.85)),url('https://wallpapercat.com/w/full/b/b/8/2131817-2560x1600-desktop-hd-horse-racing-wallpaper-photo.jpg');background-size:cover;z-index:-1}.password-screen{max-width:420px;margin:80px auto;padding:40px;background:rgba(255,255,255,0.05);backdrop-filter:blur(15px);border:1px solid rgba(255,255,255,0.1);border-radius:30px;text-align:center;box-shadow:0 25px 50px rgba(0,0,0,0.5)}.login-logo{max-width:200px;margin-bottom:25px;filter:drop-shadow(0 0 10px rgba(46,204,113,0.5))}.form-control{background:rgba(255,255,255,0.9)!important;color:#333!important;border:none!important;border-radius:12px;padding:12px 20px;font-weight:500}.btn-modern{border-radius:12px;padding:12px 25px;font-weight:700;text-transform:uppercase;letter-spacing:1px;transition:all .3s ease;border:none}.btn-green{background:var(--primary-green);color:#fff}.btn-green:hover{background:#27ae60;transform:translateY(-2px);box-shadow:0 10px 20px rgba(46,204,113,0.3)}.btn-yellow{background:var(--bright-yellow);color:#000}.btn-yellow:hover{background:#d4ac0d;transform:translateY(-2px);box-shadow:0 10px 20px rgba(241,196,15,0.3)}.btn-cyan{background:#00d2d3;color:#fff}.btn-excel{background:#1f7244;color:#fff}.btn-excel:hover{background:#165231;transform:translateY(-2px);box-shadow:0 10px 20px rgba(31,114,68,0.3)}.race-block{background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.1);padding:25px;margin-bottom:25px;border-radius:20px}.race-meeting{font-size:1.6rem;font-weight:800;color:var(--bright-yellow);display:flex;justify-content:space-between;align-items:center;margin-bottom:15px;padding-bottom:10px;border-bottom:2px solid var(--primary-green)}.remove-btn{background:rgba(231,76,60,0.2);color:#ff7675;border:1px solid #ff7675;padding:5px 15px;border-radius:8px;font-size:.8rem;cursor:pointer}.race-line{font-family:'Consolas',monospace;font-size:1.15rem;color:var(--soft-white);padding:8px 15px;background:rgba(255,255,255,0.03);margin-bottom:8px;border-radius:10px}.highlight-prize{background:rgba(241,196,15,0.2)!important;border:1px solid var(--bright-yellow);color:var(--bright-yellow)!important}.hidden{display:none}.container{max-width:1000px;padding-top:40px;flex:1}label{font-weight:600;color:var(--primary-green);margin-bottom:8px}footer{background:rgba(0,0,0,0.5);backdrop-filter:blur(10px);padding:30px 0;margin-top:50px;text-align:center;border-top:1px solid rgba(255,255,255,0.1)}.footer-links span{color:var(--soft-white);cursor:pointer;margin:0 15px;font-size:.9rem;font-weight:600}.footer-links span:hover{color:var(--primary-green)}.copyright{margin-top:15px;font-size:.85rem;color:rgba(255,255,255,0.5)}.custom-modal{display:none;position:fixed;z-index:9999;left:0;top:0;width:100%;height:100%;background-color:rgba(0,0,0,0.8);backdrop-filter:blur(10px)}.modal-content{background:#1e272e;margin:10% auto;padding:30px;border:1px solid var(--primary-green);width:60%;border-radius:20px;position:relative;color:white}.close-modal{position:absolute;right:20px;top:10px;font-size:30px;cursor:pointer;color:var(--bright-yellow)}</style></head>
<body oncontextmenu="return false;">
    <div id="bg-overlay"></div>
    <div id="passwordScreen" class="password-screen">
        <img src="https://leisuresportsholdings.com/images/logolg.png" alt="Logo" class="login-logo">
        <h4 class="mb-4 text-white">SECURE ACCESS 2026</h4>
        <input type="password" id="passInput" class="form-control mb-4 text-center" placeholder="ACCESS KEY" autocomplete="off">
        <button class="btn btn-modern btn-green w-100" onclick="_0x5f2e()">ENTER SYSTEM</button>
    </div>

    <div id="mainContent" class="container hidden">
        <div class="d-flex justify-content-between align-items-center mb-5">
            <div>
                <img src="https://leisuresportsholdings.com/images/logolg.png" height="50" class="mb-2">
                <h2 class="text-white m-0">PREMIUM RACE <span style="color: var(--primary-green);">DASHBOARD</span></h2>
            </div>
            <button class="btn btn-sm btn-outline-light rounded-pill px-4" onclick="location.reload()">LOGOUT</button>
        </div>

        <div class="race-block">
            <div class="row">
                <div class="col-12 mb-4"><label>DATA INPUT FEED</label><textarea id="raceInput" class="form-control" rows="8"></textarea></div>
                <div class="col-12 mb-4"><label>MEETING FILTER (COMMA SEPARATED)</label><input type="text" id="filterInput" class="form-control"></div>
                <div class="col-12">
                    <div class="d-flex gap-3 flex-wrap">
                        <button class="btn btn-modern btn-green flex-grow-1" onclick="_0x2b31()">ANALYZE DATA</button>
                        <button class="btn btn-modern btn-cyan" onclick="_0x42f1()">SAVE TXT</button>
                        <button class="btn btn-modern btn-excel" onclick="_0x112b()">SAVE EXCEL</button>
                        <button class="btn btn-modern btn-yellow" onclick="_0x3c11()">RESET</button>
                    </div>
                </div>
            </div>
        </div>
        <div id="output"></div>
    </div>

    <div id="infoModal" class="custom-modal">
        <div class="modal-content">
            <span class="close-modal" onclick="_0x9a22()">&times;</span>
            <h2 id="modalTitle" style="color: var(--bright-yellow);"></h2>
            <hr style="border-color: var(--primary-green);">
            <div id="modalBody"></div>
        </div>
    </div>

    <footer>
        <div class="footer-links">
            <span onclick="_0x8c21('about')">ABOUT US</span>
            <span onclick="_0x8c21('terms')">TERMS OF SERVICE</span>
            <span onclick="_0x8c21('privacy')">PRIVACY POLICY</span>
        </div>
        <div class="copyright">© 2026 | LS Publication Dept. | Developed by Charith Neranga</div>
    </footer>

    <script>
        /* SECURITY LAYER 1: KEYBOARD PROTECTION */
        document.onkeydown = function(e) {
            if (e.keyCode == 123) return false;
            if (e.ctrlKey && e.shiftKey && (e.keyCode == 'I'.charCodeAt(0) || e.keyCode == 'J'.charCodeAt(0) || e.keyCode == 'C'.charCodeAt(0))) return false;
            if (e.ctrlKey && (e.keyCode == 'U'.charCodeAt(0) || e.keyCode == 'S'.charCodeAt(0))) return false;
        };

        /* SECURITY LAYER 2: OBFUSCATED LOGIC */
        document.getElementById('passInput').addEventListener('keypress', (e) => { if (e.key === 'Enter') _0x5f2e(); });
        let _0x_cur = [];

        function _0x5f2e() {
            const _0xa1 = document.getElementById('passInput').value;
            if(_0xa1 === "lal1234") {
                document.getElementById('passwordScreen').classList.add('hidden');
                document.getElementById('mainContent').classList.remove('hidden');
            } else { alert("ACCESS DENIED"); }
        }

        function _0x8c21(_0xt) {
            const m = document.getElementById('infoModal'), t = document.getElementById('modalTitle'), b = document.getElementById('modalBody');
            if(_0xt === 'about') { t.innerText = "ABOUT US"; b.innerHTML = "<p>LS Publication Dept. is a leading provider of premium horse racing analytics. Our 2026 digital dashboard is designed for high-speed data processing and accurate reporting for UK racing enthusiasts.</p>"; }
            else if(_0xt === 'terms') { t.innerText = "TERMS OF SERVICE"; b.innerHTML = "<p>1. Usage is restricted to authorized personnel only. 2. Data processed through this dashboard is for analytical purposes. 3. Unauthorized distribution of extracted data is strictly prohibited.</p>"; }
            else { t.innerText = "PRIVACY POLICY"; b.innerHTML = "<p>Your session data is processed locally. We do not store your pasted race cards on our servers. Access keys are encrypted and session-based to ensure maximum security.</p>"; }
            m.style.display = "block";
        }

        function _0x9a22() { document.getElementById('infoModal').style.display = "none"; }

        function _0x2b31() {
            const tx = document.getElementById('raceInput').value;
            const ft = document.getElementById('filterInput').value.toUpperCase();
            const fa = ft.split(',').map(s => s.trim()).filter(s => s !== "");
            const ln = tx.split('\n');
            let cm = "", rs = [], ar = null;

            for (let i = 0; i < ln.length; i++) {
                let l = ln[i].trim(); if (!l) continue;
                if (/^[A-Z\s\-]{3,30}$/.test(l) && !l.includes('£') && !l.includes('—')) { cm = l; continue; }
                let sm = l.match(/^([A-Za-z]+\/\d+)\s+(\d{1,2}[—:]\d{2})/);
                if (sm) {
                    let ukf = sm[2].replace(/[—:]/, ':');
                    ar = { meeting: cm, code: sm[1], ukTime: ukf, slTime: "N/A", prize: "£0", prizeValue: 0, runners: "0", raceClass: "" };
                    rs.push(ar); continue;
                }
                if (ar) {
                    let slm = l.match(/^\((\d{1,2}[.:]\d{2})\)$/);
                    if (slm) ar.slTime = slm[1].replace('.', ':');
                    let clm = l.match(/\((Class \d+)\)/i);
                    if (clm) ar.raceClass = clm[1];
                    let pm = l.match(/£([\d,]+)/);
                    if (pm) { ar.prize = "£" + pm[1]; ar.prizeValue = parseInt(pm[1].replace(/,/g, '')); }
                    let rm = l.match(/(\d+)\s+runners/);
                    if (rm) { ar.runners = rm[1]; ar = null; }
                }
            }
            _0x_cur = fa.length > 0 ? rs.filter(r => fa.includes(r.meeting.toUpperCase())) : rs;
            _0x_rend();
        }

        function _0x_rend() {
            const o = document.getElementById('output'); o.innerHTML = "";
            if (_0x_cur.length === 0) { o.innerHTML = "<div class='text-center p-5 opacity-50'><h4>SYSTEM READY...</h4></div>"; return; }
            const g = _0x_cur.reduce((acc, r) => { (acc[r.meeting] = acc[r.meeting] || []).push(r); return acc; }, {});
            for (const m in g) {
                const mp = Math.max(...g[m].map(r => r.prizeValue));
                let h = `<div class="race-block"><div class="race-meeting"><span>${m}</span><button class="remove-btn" onclick="_0x_rm('${m}')">CLOSE</button></div>`;
                g[m].forEach(r => { 
                    const hc = (r.prizeValue === mp && mp > 0) ? "highlight-prize" : "";
                    const dc = r.raceClass ? r.raceClass + " " : "";
                    h += `<div class="race-line ${hc}">${r.code} ${r.ukTime} (${r.slTime}) ${dc}${r.prize} ${r.runners} runners.</div>`; 
                });
                o.innerHTML += h + `</div>`;
            }
        }

        function _0x_rm(n) { _0x_cur = _0x_cur.filter(r => r.meeting !== n); _0x_rend(); }
        function _0x3c11() { document.getElementById('raceInput').value = ''; document.getElementById('output').innerHTML = ''; _0x_cur = []; }
        
        function _0x42f1() {
            if (_0x_cur.length === 0) return alert("NO DATA FOUND");
            let t = "LEISURE SPORTS HOLDINGS - UK RACE REPORT\n========================================\n\n";
            const g = _0x_cur.reduce((acc, r) => { (acc[r.meeting] = acc[r.meeting] || []).push(r); return acc; }, {});
            for (const m in g) {
                t += `${m}\n`;
                g[m].forEach(r => { const dc = r.raceClass ? r.raceClass + " " : ""; t += `${r.code} ${r.ukTime} (${r.slTime}) ${dc}${r.prize} ${r.runners} runners.\n`; });
                t += "\n";
            }
            const b = new Blob([t], { type: 'text/plain' });
            const a = document.createElement('a'); a.href = URL.createObjectURL(b); a.download = "Race_Report_2026.txt"; a.click();
        }

        function _0x112b() {
            if (_0x_cur.length === 0) return alert("NO DATA FOUND");
            const BOM = '\uFEFF';
            let c = "Meeting,Code,UK Time,SL Time,Class,Prize,Runners\n";
            _0x_cur.forEach(r => { c += `"${r.meeting}","${r.code}","${r.ukTime}","${r.slTime}","${r.raceClass}","${r.prize}","${r.runners}"\n`; });
            const b = new Blob([BOM + c], { type: 'text/csv;charset=utf-8' });
            const a = document.createElement('a'); a.href = URL.createObjectURL(b); a.download = "Race_Data_2026.csv"; a.click();
        }
    </script>
</body></html>
